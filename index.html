<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aditya Prashar | Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanta/0.5.24/vanta.waves.min.js"></script>
    <style>
        :root {
            --bg-light: #f5f5f5;
            --text-light: #1a1a1a;
            --primary-light: #6a0dad;
            --card-light: rgba(255, 255, 255, 0.6);
            
            --bg-dark: #0d0c22;
            --text-dark: #e0e0e0;
            --primary-dark: #a774f2;
            --card-dark: rgba(26, 26, 46, 0.4);

            --font-heading: 'Poppins', sans-serif;
            --font-body: 'Roboto', sans-serif;
        }
        html {
            scroll-behavior: smooth;
        }
        body {
            background-color: var(--bg-light);
            color: var(--text-light);
            font-family: var(--font-body);
            transition: background-color 0.5s ease, color 0.5s ease;
        }
        .dark body {
            background-color: var(--bg-dark);
            color: var(--text-dark);
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-heading);
        }
        .vanta-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }
        #threejs-canvas {
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
        }
        .glass-card {
            background: var(--card-light);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .dark .glass-card {
            background: var(--card-dark);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .dark .glass-card:hover {
            box-shadow: 0 0 25px rgba(167, 116, 242, 0.15);
            border-color: rgba(167, 116, 242, 0.3);
        }
        .nav-link {
            transition: all 0.3s ease;
            position: relative;
        }
        .nav-link:after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--primary-light);
            transition: width 0.3s ease;
        }
        .dark .nav-link:after {
            background-color: var(--primary-dark);
        }
        .nav-link:hover:after, .nav-link.active:after {
            width: 100%;
        }

        /* Project Carousel */
        .project-carousel-container {
            position: relative;
            width: 100%;
            height: 550px;
            perspective: 1500px;
        }
        .project-card {
            position: absolute;
            width: 80%;
            max-width: 450px;
            top: 50%;
            left: 50%;
            transform-style: preserve-3d;
            transition: transform 0.6s ease, opacity 0.6s ease, z-index 0.6s;
            opacity: 0;
            z-index: 1;
        }
        .project-card.active {
            transform: translate(-50%, -50%) rotateY(0) scale(1);
            opacity: 1;
            z-index: 10;
        }
        .project-card.prev {
            transform: translate(-90%, -50%) rotateY(35deg) scale(0.8);
            opacity: 0.4;
            z-index: 5;
        }
        .project-card.next {
            transform: translate(-10%, -50%) rotateY(-35deg) scale(0.8);
            opacity: 0.4;
            z-index: 5;
        }

        /* Scroll Animation */
        .section-hidden {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .section-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .gemini-btn {
            background-image: linear-gradient(to right, #6a0dad, #a774f2);
            color: white;
            transition: all 0.3s ease;
        }
        .gemini-btn:hover {
            opacity: 0.9;
            box-shadow: 0 0 15px rgba(167, 116, 242, 0.5);
        }
        .loader {
            border: 2px solid #f3f3f3;
            border-top: 2px solid var(--primary-dark);
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Backgrounds -->
    <div id="vanta-bg" class="vanta-container"></div>
    <canvas id="threejs-canvas"></canvas>

    <!-- Sidebar Navigation -->
    <aside id="sidebar" class="fixed top-0 left-0 h-full w-64 bg-[var(--card-light)] dark:bg-[var(--card-dark)] backdrop-blur-lg p-8 transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out z-50">
        <h1 class="text-3xl font-extrabold text-center mb-12 text-[var(--primary-light)] dark:text-[var(--primary-dark)]">AP</h1>
        <nav class="flex flex-col space-y-6 items-center text-lg">
            <a href="#home" class="nav-link font-semibold">Home</a>
            <a href="#experience" class="nav-link font-semibold">Experience</a>
            <a href="#projects" class="nav-link font-semibold">Projects</a>
            <a href="#research" class="nav-link font-semibold">Research</a>
            <a href="#skills" class="nav-link font-semibold">Skills</a>
            <a href="#contact" class="nav-link font-semibold">Contact</a>
        </nav>
        <div class="absolute bottom-8 left-0 right-0 flex justify-center">
            <button id="theme-toggle" class="p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 ring-offset-[var(--bg-light)] dark:ring-offset-[var(--bg-dark)] focus:ring-[var(--primary-light)] dark:focus:ring-[var(--primary-dark)]">
                <svg id="theme-icon-light" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                <svg id="theme-icon-dark" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
            </button>
        </div>
    </aside>

    <!-- Mobile Header -->
    <header class="md:hidden fixed top-0 left-0 right-0 z-40 bg-[var(--card-light)] dark:bg-[var(--card-dark)] backdrop-blur-md">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-[var(--primary-light)] dark:text-[var(--primary-dark)]">Aditya Prashar</a>
            <button id="mobile-menu-button" class="p-2">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="md:ml-64 transition-all duration-300 ease-in-out">
        <!-- Hero Section -->
        <section id="home" class="min-h-screen flex flex-col justify-center items-center text-center p-6">
            <div class="max-w-4xl relative z-10">
                <h1 class="text-5xl md:text-7xl font-extrabold mb-4 leading-tight">
                    <span class="text-[var(--primary-light)] dark:text-[var(--primary-dark)]">Hello, I'm</span> Aditya Prashar
                </h1>
                <p class="text-xl md:text-2xl opacity-80 mb-8">
                    Building Intelligent Solutions with Code. A Computer Science student passionate about Machine Learning, Web Development, and creating data-driven applications.
                </p>
                <div class="flex justify-center space-x-6">
                    <a href="https://github.com/aditya-prashar-1" target="_blank" class="opacity-70 hover:opacity-100 hover:text-[var(--primary-light)] dark:hover:text-[var(--primary-dark)] transition-all"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.03-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z" clip-rule="evenodd" /></svg></a>
                    <a href="https://www.linkedin.com/in/aditya-prashar-032649257/" target="_blank" class="opacity-70 hover:opacity-100 hover:text-[var(--primary-light)] dark:hover:text-[var(--primary-dark)] transition-all"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></a>
                    <a href="https://leetcode.com/u/adityaprashar1807/" target="_blank" class="opacity-70 hover:opacity-100 hover:text-[var(--primary-light)] dark:hover:text-[var(--primary-dark)] transition-all"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.48 4.26a1.74 1.74 0 0 0-1.74-1.74H2.74a1.74 1.74 0 0 0-1.74 1.74v15a1.74 1.74 0 0 0 1.74 1.74h9a1.74 1.74 0 0 0 1.74-1.74v-2.43h2.29V4.26zm-1.74 15H2.74V4.26h9v15zM21.26 15a1.74 1.74 0 0 0-1.74-1.74h-5.22v1.74h5.22v5.22h-1.74v2.29h1.74a1.74 1.74 0 0 0 1.74-1.74V15z"/></svg></a>
                </div>
            </div>
        </section>

        <!-- Experience Section -->
        <section id="experience" class="py-24 px-6 section-hidden">
            <div class="container mx-auto max-w-4xl">
                <h2 class="text-4xl font-bold text-center mb-12">Experience</h2>
                <div class="glass-card p-8 rounded-2xl">
                    <div class="flex flex-col md:flex-row justify-between items-start mb-4">
                        <div>
                            <h3 class="text-2xl font-bold text-[var(--primary-light)] dark:text-[var(--primary-dark)]">Machine Learning Intern</h3>
                            <p class="text-lg font-semibold">Goldsoil Realty</p>
                            <p class="opacity-70">Texas, USA (Remote)</p>
                        </div>
                        <p class="opacity-70 mt-2 md:mt-0">May 2025 - June 2025</p>
                    </div>
                    <ul class="list-disc list-inside space-y-3 opacity-90">
                        <li>Developed a Retrieval-Augmented Generation (RAG) agent using n8n, automating search across 500+ internal SOP documents and reducing manual lookup time by 60%.</li>
                        <li>Built a Chatbot integrated with NotebookLM using Google Apps Script, enabling dropdown-based SOP access and reducing query response time by 40% across 3+ departments.</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="py-24 px-6 section-hidden">
            <div class="container mx-auto max-w-6xl">
                <h2 class="text-4xl font-bold text-center mb-12">Projects</h2>
                <div class="project-carousel-container">
                    <!-- Project Cards will be injected here by JS -->
                </div>
                <div class="flex justify-center mt-8 space-x-4">
                    <button id="prev-project" class="p-3 rounded-full glass-card hover:text-[var(--primary-light)] dark:hover:text-[var(--primary-dark)]"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button>
                    <button id="next-project" class="p-3 rounded-full glass-card hover:text-[var(--primary-light)] dark:hover:text-[var(--primary-dark)]"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button>
                </div>
            </div>
        </section>
        
        <!-- Research Section -->
        <section id="research" class="py-24 px-6 section-hidden">
            <div class="container mx-auto max-w-4xl">
                <h2 class="text-4xl font-bold text-center mb-12">Research</h2>
                <div class="space-y-8">
                    <div class="glass-card p-8 rounded-2xl">
                        <h3 class="text-2xl font-bold text-[var(--primary-light)] dark:text-[var(--primary-dark)]">The Role of Machine Learning Algorithms in Stock Market Prediction: A Performance Evaluation</h3>
                        <p class="italic mt-2 opacity-80">Aditya Prashar, Ganesh Khekare, et al.</p>
                        <p class="mt-2 font-semibold">Accepted at ICDCC 2024.</p>
                    </div>
                    <div class="glass-card p-8 rounded-2xl">
                        <h3 class="text-2xl font-bold text-[var(--primary-light)] dark:text-[var(--primary-dark)]">Hybrid Classifier for Sentiment Analysis on Large-Scale Social Media Data</h3>
                        <p class="italic mt-2 opacity-80">Aditya Prashar, et al.</p>
                        <p class="mt-2 opacity-90">This research focused on implementing and evaluating sentiment analysis models on a dataset of 1.6 million Twitter comments, achieving 82% accuracy with a hybrid classifier.</p>
                        <p class="mt-2 font-semibold">Status: Project / Pre-print</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="py-24 px-6 section-hidden">
            <div class="container mx-auto max-w-4xl">
                <h2 class="text-4xl font-bold text-center mb-12">Skills</h2>
                <div class="flex flex-wrap justify-center gap-4">
                    <!-- Skills will be injected here by JS -->
                </div>
            </div>
        </section>
        
        <!-- Contact Section -->
        <section id="contact" class="py-24 px-6 section-hidden">
            <div class="container mx-auto max-w-2xl text-center">
                <h2 class="text-4xl font-bold text-center mb-4">Get In Touch</h2>
                <p class="text-lg opacity-80 mb-8">Feel free to reach out for collaborations or just a friendly chat!</p>
                <div class="glass-card p-8 rounded-2xl text-left">
                    <form id="contact-form">
                        <div class="mb-4">
                            <label for="name" class="block mb-2 font-medium">Name</label>
                            <input type="text" id="name" name="user_name" required class="w-full px-4 py-2 rounded-md bg-transparent border-2 border-gray-400/50 focus:border-[var(--primary-light)] dark:focus:border-[var(--primary-dark)] focus:ring-0 outline-none transition-colors">
                        </div>
                        <div class="mb-4">
                            <label for="email" class="block mb-2 font-medium">Email</label>
                            <input type="email" id="email" name="user_email" required class="w-full px-4 py-2 rounded-md bg-transparent border-2 border-gray-400/50 focus:border-[var(--primary-light)] dark:focus:border-[var(--primary-dark)] focus:ring-0 outline-none transition-colors">
                        </div>
                        <div class="mb-6">
                            <label for="message" class="block mb-2 font-medium">Message</label>
                            <textarea id="message" name="message" rows="4" required class="w-full px-4 py-2 rounded-md bg-transparent border-2 border-gray-400/50 focus:border-[var(--primary-light)] dark:focus:border-[var(--primary-dark)] focus:ring-0 outline-none transition-colors"></textarea>
                        </div>
                        <div class="mb-6">
                            <label for="ai-prompt" class="block mb-2 font-medium">Or, let AI help you write a message</label>
                            <div class="flex flex-col sm:flex-row gap-2">
                                <input type="text" id="ai-prompt" placeholder="e.g., Ask about his RAG experience" class="w-full px-4 py-2 rounded-md bg-transparent border-2 border-gray-400/50 focus:border-[var(--primary-light)] dark:focus:border-[var(--primary-dark)] focus:ring-0 outline-none transition-colors">
                                <button type="button" id="generate-message-btn" class="gemini-btn font-semibold px-4 py-2 rounded-lg flex items-center justify-center gap-2 whitespace-nowrap">✨ Generate <span id="contact-loader" class="loader hidden"></span></button>
                            </div>
                        </div>

                        <button type="submit" class="w-full gemini-btn font-bold py-3 px-6 rounded-lg">
                            Send Message
                        </button>
                    </form>
                    <p id="form-status" class="mt-4 text-center"></p>
                </div>
                <div class="mt-12">
                    <!-- The resume link needs to be a valid URL to work. This is a placeholder. -->
                    <a href="https://drive.google.com/uc?export=download&id=15nnCvBOrwnjfD4aQFj11NPVBzDlk0Ccn" download class="inline-block gemini-btn font-bold py-3 px-8 rounded-lg text-lg">
                        Download My Resume
                    </a>
                </div>
            </div>
        </section>

        <footer class="text-center py-8">
            <p>&copy; 2025 Aditya Prashar. All rights reserved.</p>
        </footer>
    </main>

    <script>
    document.addEventListener('DOMContentLoaded', () => {

        // --- DATA ---
        const projectsData = [
            { title: "Pocket Friendly", gh: "pocket-friendly", stack: "JavaScript, HTML, CSS, Firebase", desc: "A finance tracking web app that enabled 1K+ users to categorize expenses, track spending, and monitor savings. Integrated personalized investment advice, enhancing user retention by over 35%. Secured Runner-up in the Open Innovation category at CodelNovact Hackathon." },
            { title: "Stock Market Prediction", gh: "Stock-Market-Prediction", stack: "Python, TensorFlow, Matplotlib", desc: "Developed a prediction model using Apple Inc. stock data. Achieved a top accuracy of 95% by leveraging LSTM layers, including bidirectional and dense layers, improving short- and long-term trend forecasting." },
            { title: "Sentiment Analysis", gh: "Ml-model-for-sentiment-analysis", stack: "Python, TensorFlow, LSTM", desc: "Led a research team to train sentiment analysis models on 1.6M Twitter comments. Optimized text vectorization and trained a hybrid sentiment classifier, achieving 82% accuracy and evaluating models across multiple metrics." },
            { title: "Employee Management Website", gh: "employee-managment-system", stack: "Java, MySQL Workbench", desc: "Designed and implemented a system managing over 500 employee records efficiently. Integrated core features include employee registration, updates, and record maintenance through a user-friendly interface." },
            { title: "AI Code Similarity Checker", gh: "Ai-similarity-checker", stack: "Python, Flask, React.js, CodeBERT", desc: "Built a full-stack web app with a Hugging Face CodeBERT model, achieving 92% accuracy in detecting semantic code similarity. Useful for plagiarism detection and code review." },
            { title: "RAG Agent with n8n Workflow", gh: "", stack: "n8n, Python, LLMs", desc: "Developed a Retrieval-Augmented Generation (RAG) agent, automating search across 500+ internal SOP documents and reducing manual lookup time by 60%." },
            { title: "SOP Chatbot with Google Apps Script", gh: "", stack: "Google Apps Script, NotebookLM", desc: "Built a Chatbot integrated with NotebookLM, enabling dropdown-based SOP access and reducing query response time by 40% across 3+ departments." },
            { title: "GPT from Scratch", gh: "Chatgpt", stack: "Python, PyTorch, NumPy", desc: "Implemented a minimal GPT-style language model from scratch (~1.2M parameters) using transformer components, trained on a character-level dataset to generate coherent text." },
            { title: "Tic Tac Toe Game", gh: "", stack: "React.js, JavaScript, CSS", desc: "Developed a classic Tic Tac Toe game using React.js, demonstrating component-based architecture, state management with hooks, and handling user interactions." }
        ];

        const skillsData = [
            { name: "C++", color: "blue" }, { name: "Python", color: "blue" }, { name: "Java", color: "blue" }, { name: "JavaScript", color: "blue" }, { name: "React.js", color: "blue" }, { name: "HTML", color: "blue" },
            { name: "MySQL", color: "green" }, { name: "MongoDB", color: "green" }, { name: "TensorFlow", color: "green" }, { name: "PyTorch", color: "green" }, { name: "OpenCV", color: "green" }, { name: "NumPy", color: "green" }, { name: "Pandas", color: "green" },
            { name: "N8N", color: "yellow" }, { name: "Vertex AI", color: "yellow" }, { name: "Supabase", color: "yellow" }
        ];

        const skillColors = {
            blue: "bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300",
            green: "bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300",
            yellow: "bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300"
        };
        
        // --- DYNAMIC CONTENT INJECTION ---
        const projectsContainer = document.querySelector('.project-carousel-container');
        projectsData.forEach((p, i) => {
            const githubLink = p.gh ? `https://github.com/aditya-prashar-1/${p.gh}` : 'https://github.com/aditya-prashar-1/';
            projectsContainer.innerHTML += `
                <div class="project-card glass-card p-8 rounded-2xl" data-index="${i}">
                    <a href="${githubLink}" target="_blank" class="absolute top-6 right-6 opacity-50 hover:opacity-100 transition-opacity">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.03-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z" clip-rule="evenodd" /></svg>
                    </a>
                    <h3 class="text-2xl font-bold text-[var(--primary-light)] dark:text-[var(--primary-dark)] mb-2">${p.title}</h3>
                    <p class="font-semibold mb-4 opacity-80">${p.stack}</p>
                    <p class="project-description opacity-90">${p.desc}</p>
                    <div class="mt-4 ai-summary-container h-24"></div>
                    <button class="gemini-btn get-summary-btn text-sm font-semibold py-2 px-4 rounded-lg mt-4 w-full flex items-center justify-center gap-2">✨ Get AI Summary <span class="loader hidden"></span></button>
                </div>`;
        });
        const skillsContainer = document.querySelector('#skills .flex-wrap');
        skillsData.forEach(s => {
            skillsContainer.innerHTML += `<span class="skill-tag ${skillColors[s.color]} text-lg font-medium px-5 py-2 rounded-full transition-transform hover:scale-105">${s.name}</span>`;
        });

        // --- GEMINI API SETUP ---
        const API_KEY = ""; // Leave empty, handled by environment
        const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${API_KEY}`;
        
        async function callGemini(prompt, retries = 3, delay = 1000) {
            try {
                const payload = { contents: [{ parts: [{ text: prompt }] }] };
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) {
                    if (response.status === 429 && retries > 0) {
                        await new Promise(res => setTimeout(res, delay));
                        return callGemini(prompt, retries - 1, delay * 2);
                    }
                    throw new Error(`API Error: ${response.statusText}`);
                }
                const result = await response.json();
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text;
                if (text) {
                    return text;
                }
                throw new Error("Invalid response structure from API.");
            } catch (error) {
                console.error("Gemini API call failed:", error);
                return "Sorry, the AI is currently unavailable. Please try again later.";
            }
        }

        // --- VANTA.JS BACKGROUND ---
        let vantaEffect;
        function setupVanta() {
            if (vantaEffect) vantaEffect.destroy();
            vantaEffect = VANTA.WAVES({
                el: "#vanta-bg",
                mouseControls: true,
                touchControls: true,
                gyroControls: false,
                minHeight: 200.00,
                minWidth: 200.00,
                scale: 1.00,
                scaleMobile: 1.00,
                color: html.classList.contains('dark') ? 0x1a1a2e : 0xcac7ff,
                shininess: 30.00,
                waveHeight: 15.00,
                waveSpeed: 0.8,
                zoom: 0.8
            });
        }

        // --- THEME TOGGLE ---
        const themeToggle = document.getElementById('theme-toggle');
        const lightIcon = document.getElementById('theme-icon-light');
        const darkIcon = document.getElementById('theme-icon-dark');
        const html = document.documentElement;
        let icosahedron;

        const applyTheme = (theme) => {
            if (theme === 'dark') {
                html.classList.add('dark');
                lightIcon.classList.add('hidden');
                darkIcon.classList.remove('hidden');
            } else {
                html.classList.remove('dark');
                lightIcon.classList.remove('hidden');
                darkIcon.classList.add('hidden');
            }
            setupVanta();
            if (icosahedron) { // Check if 3D object exists
                icosahedron.material.color.set(html.classList.contains('dark') ? 0xa774f2 : 0x6a0dad);
            }
        };

        themeToggle.addEventListener('click', () => {
            const currentTheme = html.classList.contains('dark') ? 'light' : 'dark';
            localStorage.setItem('theme', currentTheme);
            applyTheme(currentTheme);
        });

        const savedTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        applyTheme(savedTheme);


        // --- MOBILE MENU ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const sidebar = document.getElementById('sidebar');
        mobileMenuButton.addEventListener('click', () => {
            sidebar.classList.toggle('-translate-x-full');
        });
        document.querySelectorAll('#sidebar a').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth < 768) {
                    sidebar.classList.add('-translate-x-full');
                }
            });
        });

        // --- THREE.JS ANIMATION ---
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('threejs-canvas'), alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        
        const geometry = new THREE.IcosahedronGeometry(2, 0);
        const material = new THREE.LineBasicMaterial({ color: html.classList.contains('dark') ? 0xa774f2 : 0x6a0dad });
        icosahedron = new THREE.LineSegments(new THREE.WireframeGeometry(geometry), material);
        scene.add(icosahedron);
        camera.position.z = 5;

        const mouse = new THREE.Vector2();
        window.addEventListener('mousemove', (event) => {
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
        });

        function animate() {
            requestAnimationFrame(animate);
            icosahedron.rotation.x += 0.001;
            icosahedron.rotation.y += 0.001;
            
            // Mouse interaction
            camera.position.x += (mouse.x * 2 - camera.position.x) * 0.02;
            camera.position.y += (mouse.y * 2 - camera.position.y) * 0.02;
            camera.lookAt(scene.position);

            renderer.render(scene, camera);
        }
        animate();

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // --- PROJECT CAROUSEL ---
        const projectCards = Array.from(document.querySelectorAll('.project-card'));
        const prevButton = document.getElementById('prev-project');
        const nextButton = document.getElementById('next-project');
        let currentIndex = 0;

        function updateCarousel() {
            projectCards.forEach((card, index) => {
                card.classList.remove('active', 'prev', 'next');
                if (index === currentIndex) {
                    card.classList.add('active');
                } else if (index === (currentIndex - 1 + projectCards.length) % projectCards.length) {
                    card.classList.add('prev');
                } else if (index === (currentIndex + 1) % projectCards.length) {
                    card.classList.add('next');
                }
            });
        }
        prevButton.addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + projectCards.length) % projectCards.length;
            updateCarousel();
        });
        nextButton.addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % projectCards.length;
            updateCarousel();
        });
        updateCarousel();
        
        // --- CONTACT FORM ---
        const contactForm = document.getElementById('contact-form');
        const formStatus = document.getElementById('form-status');
        contactForm.addEventListener('submit', function(event) {
            event.preventDefault();
            formStatus.textContent = 'Sending message... (functionality is simulated)';
            formStatus.style.color = '#a774f2';
            setTimeout(() => {
                formStatus.textContent = 'Message sent successfully!';
                formStatus.style.color = 'green';
                contactForm.reset();
            }, 1500);
        });

        // --- GEMINI: GENERATE CONTACT MESSAGE ---
        const generateBtn = document.getElementById('generate-message-btn');
        const aiPromptInput = document.getElementById('ai-prompt');
        const messageTextarea = document.getElementById('message');
        const contactLoader = document.getElementById('contact-loader');

        generateBtn.addEventListener('click', async () => {
            const userPrompt = aiPromptInput.value;
            if (!userPrompt) return;
            
            contactLoader.classList.remove('hidden');
            generateBtn.disabled = true;

            const fullPrompt = `You are an AI assistant helping a visitor on Aditya Prashar's portfolio. Aditya is a skilled Computer Science student focused on Machine Learning. The visitor wants to send a message to Aditya. Their intention is: "${userPrompt}". Draft a polite, professional, and concise message (about 3-4 sentences) from the visitor's perspective to Aditya.`;
            
            const generatedMessage = await callGemini(fullPrompt);
            messageTextarea.value = generatedMessage;
            
            contactLoader.classList.add('hidden');
            generateBtn.disabled = false;
        });

        // --- GEMINI: GENERATE PROJECT SUMMARY ---
        document.querySelectorAll('.get-summary-btn').forEach(button => {
            button.addEventListener('click', async (e) => {
                const card = e.target.closest('.project-card');
                const title = card.querySelector('h3').textContent;
                const description = card.querySelector('.project-description').textContent;
                const summaryContainer = card.querySelector('.ai-summary-container');
                const loader = button.querySelector('.loader');

                if (summaryContainer.innerHTML.trim() !== "") return; // Don't fetch if already populated

                loader.classList.remove('hidden');
                button.disabled = true;

                const prompt = `You are a technical writer summarizing a portfolio project for a recruiter. Project Title: "${title}". Original Description: "${description}". Please elaborate on this. In 2-3 sentences, highlight the key technical skills demonstrated and the potential real-world impact of this project. Be concise and impactful.`;
                
                const summary = await callGemini(prompt);
                summaryContainer.innerHTML = `<p class="text-sm italic opacity-80 border-l-4 border-[var(--primary-light)] dark:border-[var(--primary-dark)] pl-4">${summary}</p>`;
                
                loader.classList.add('hidden');
                button.innerHTML = '✨ Summary Generated';
            });
        });
        
        // --- SCROLL ANIMATIONS ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('section-visible');
                    entry.target.classList.remove('section-hidden');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.section-hidden').forEach(section => {
            observer.observe(section);
        });

    });
    </script>
</body>
</html>
